!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function n(e,n,o){if(!e)throw new Error("Storage object is undefined");if(void 0===o){var r=e.getItem(n);return r&&JSON.parse(r)}e.setItem(n,JSON.stringify(o))}function o(e){return e.localStorage?localStorage:e.sessionStorage?sessionStorage:void 0}function r(e){return JSON.stringify(e)}var t={};e.memoizedAjax=function(i){function a(){return i.cacheKey||"memoizedAjax | "+i.url}var c,u=i.cacheKey||i.url,f=r(i.data),s=o(i);return c=s?n(s,a())||{}:t[u]||{},c[f]?e.Deferred().resolve(c[f]).done(function(){s&&n(s,a(),c)}).done(i.success).always(i.complete):e.ajax.call(this,i).done(function(e){c[f]=e,s?n(s,a(),c):t[u]=c})}});